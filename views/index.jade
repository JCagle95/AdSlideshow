html
  head
    title Ad Slideshow
    link(rel='stylesheet', href='/stylesheets/adStyle.css')

  body
    for slideContent, i in Content
      if slideContent.type == "image"
        div.slideshow.fullpageImage(style="background-image: url(#{slideContent.url});")
      else
        div.slideshow
          video#myVideo(autoplay,muted).fullpageImage
            source(src="#{slideContent.url}",type="video/mp4")

    script.
      var myIndex = 0;
      var delays = !{JSON.stringify(Delay)};
      var content = !{JSON.stringify(Content)};
      console.log(delays)
      function carousel() {
          var i;
          var x = document.getElementsByClassName("slideshow");
          console.log(x)
          console.log(x.length)
          for (i = 0; i < x.length; i++) {
             x[i].style.display = "none";
          }
          myIndex++;
          if (myIndex > x.length) {myIndex = 1}
          x[myIndex-1].style.display = "block";
          if (content[myIndex-1].type == "video") {
            document.getElementById("myVideo").load();
          } else {
            document.getElementById("myVideo").pause();
          }
          setTimeout(carousel, delays[myIndex-1]*1000); // Change image every 2 seconds
      }
      carousel();
